(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2316:function(e,s,t){Promise.resolve().then(t.bind(t,2830))},2830:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return d}});var a=t(7437),n=t(2265),i=t(2173),r=t(6978),l=t(8031),c=e=>{let{id:s,title:t,Description:n,finalDate:i,priority:c,index:d,columnIndex:o,moveCard:m}=e;return(0,a.jsx)(r.E.div,{initial:{opacity:0,scale:.5,y:-100},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.5,y:-100},whileHover:{scale:1.05},whileTap:{scale:1.1},drag:"x",dragConstraints:{left:0,right:0},dragElastic:.1,onDragEnd:(e,t)=>m({id:s,index:d,columnIndex:o,dragDistance:t.offset.x}),className:"border-[#4E4563] bg-[#FFFFFF] text-black rounded-lg px-4 py-2 m-2 overflow-hidden cursor-grab",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-bold mb-2",children:t}),(0,a.jsx)("p",{className:"text-sm",children:n}),(0,a.jsxs)("div",{className:"flex justify-between items-start mt-1",children:[(0,a.jsxs)("div",{className:"flex space-x-2",children:["HIGH"===c&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.rng,{size:24,className:"mt-1.5 text-red-500"}),(0,a.jsx)("p",{className:"mt-2 text-red-500",children:(0,a.jsx)("strong",{children:i})})]}),"Finalizado"===i&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.wRn,{size:24,className:"mt-1.5 text-green-500"}),(0,a.jsx)("p",{className:"mt-2 text-green-500",children:(0,a.jsx)("strong",{children:i})})]}),"Finalizado"!==i&&"HIGH"!==c&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.rng,{size:24,className:"mt-1.5"}),(0,a.jsx)("p",{className:"mt-2 ",children:(0,a.jsx)("strong",{children:i})})]})]}),(()=>{let e={HIGH:"red",MEDIUM:"orange",LOW:"green",Finalizado:"hidden"};if("Finalizado"===i)return null;let s={border:"1px solid ".concat(e[c])};return(0,a.jsx)("p",{style:s,className:"mt-2 border border-".concat(e[c],"-500 text-").concat(e[c],"-500 px-2 py-0 text-sm rounded-2xl"),children:c})})()]})]})})},d=()=>{let[e,s]=(0,n.useState)([]);(0,n.useEffect)(()=>{let e=async()=>{try{let e="https://gerenciamento-de-tarefa-nodejs.onrender.com/api";console.log(e);let t=await i.Z.get("".concat(e,"/tasks"));t.data&&s(t.data)}catch(e){console.error("Erro ao obter dados do Kanban:",e.message)}};e()},[]),(0,n.useEffect)(()=>{e.length>0&&(()=>{let s={toDo:{name:"Pendente",items:[]},doing:{name:"Fazendo",items:[]},inProgress:{name:"Aprova\xe7\xe3o",items:[]},done:{name:"Finalizado",items:[]}};e.forEach(e=>{switch(e.status){case"pendente":s.toDo.items.push(e);break;case"fazendo":s.doing.items.push(e);break;case"aprovacao":s.inProgress.items.push(e);break;case"finalizado":s.done.items.push(e)}}),r(s)})()},[e]);let[t,r]=(0,n.useState)({toDo:{name:"Pendente",items:[]},doing:{name:"Fazendo",items:[]},inProgress:{name:"Aprova\xe7\xe3o",items:[]},done:{name:"Finalizado",items:[]}}),l=e=>{let{id:s,index:t,columnIndex:a,dragDistance:n}=e;Math.abs(n)>100&&r(e=>{let i={...e},r=i[Object.keys(i)[a]],l=[...r.items],[c]=l.splice(t,1),d=a;d=(a+Math.sign(n)+Object.keys(i).length)%Object.keys(i).length;let o=Object.keys(i)[d];if(c){let e=i[o],t=e.items.some(e=>e.id===s);if(!t){let s={...r,items:l},t={...e,items:[...e.items,c]};i[Object.keys(i)[a]]=s,i[o]=t}}return i})};return(0,a.jsx)("div",{className:"flex min-h-screen flex-col items-center justify-between py-32",children:(0,a.jsx)("div",{className:"grid sm:grid-cols-1 lg:grid-cols-2 xl:grid-cols-4 gap-8 flex-col sm:flex-row sm:items-baseline",children:Object.entries(t).map((e,s)=>{let[t,n]=e;return(0,a.jsxs)("div",{className:"border-[#4E4563] bg-[#F2F2F2] rounded-lg px-2 py-2",children:[(0,a.jsx)("strong",{className:"text-black text-xl ml-2",children:n.name}),(0,a.jsx)("div",{children:n.items.map((e,t)=>(0,a.jsx)(c,{id:e.id,title:e.title,Description:e.description,finalDate:e.final_date,priority:e.priority,index:t,columnIndex:s,moveCard:l},e.id))})]},t)})})})}}},function(e){e.O(0,[614,580,12,971,472,744],function(){return e(e.s=2316)}),_N_E=e.O()}]);